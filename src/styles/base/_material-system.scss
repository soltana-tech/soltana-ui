// ---------------------------------------------------------------------------
// Material System — Two-tier abstraction consumed by all components.
// ---------------------------------------------------------------------------
// MATERIAL tier (structural appearance):
//   --material-bg, --material-shadow, --material-shadow-inset, --material-border
//   Set by [data-material] on <html> or .material-* class overrides.
// SURFACE tier (finish properties):
//   --surface-blur, --surface-saturation, --surface-opacity,
//   --surface-texture-opacity, --surface-overlay, --surface-sheen
//   Set by [data-surface] on <html> or .surface-* class overrides.
// Materials define depth and structure. Surfaces define finish and texture.
// The two tiers are orthogonal — every combination produces a valid result.
// ---------------------------------------------------------------------------

// ============================================================================
// DEFAULT VALUES (neumorphic baseline)
// ============================================================================
// Ensures components render correctly even without initSoltana().

:root {
  // Material defaults (neumorphic baseline)
  --material-bg: var(--neuro-bg, #0e1028);
  --material-shadow:
    3px 3px 8px var(--neuro-shadow-dark, rgb(0 0 0 / 65%)),
    -3px -3px 8px var(--neuro-shadow-light, rgb(255 255 255 / 5%));
  --material-shadow-inset:
    inset 2px 2px 5px var(--neuro-shadow-dark, rgb(0 0 0 / 65%)),
    inset -2px -2px 5px var(--neuro-shadow-light, rgb(255 255 255 / 5%));
  --material-border: var(--border-default, rgb(255 255 255 / 6%));

  // Surface defaults (polished baseline)
  --surface-blur: 0px;
  --surface-saturation: 100%;
  --surface-opacity: 1;
  --surface-texture-opacity: 0;
  --surface-overlay: none;
  --surface-sheen: none;
}

// ============================================================================
// MATERIAL SELECTORS
// ============================================================================
// Data-attribute selectors activated by initSoltana().
// Class selectors available for per-element overrides.

[data-material='neuro'],
.material-neuro {
  --material-bg: var(--neuro-bg);
  --material-shadow: 3px 3px 8px var(--neuro-shadow-dark), -3px -3px 8px var(--neuro-shadow-light);
  --material-shadow-inset:
    inset 2px 2px 5px var(--neuro-shadow-dark), inset -2px -2px 5px var(--neuro-shadow-light);
  --material-border: var(--border-default);
}

[data-material='glass'],
.material-glass {
  --material-bg: var(--glass-bg);
  --material-shadow: 0 8px 32px var(--glass-shadow);
  --material-shadow-inset: inset 0 1px 0 var(--glass-inner-glow);
  --material-border: var(--glass-border);
}

[data-material='flat'],
.material-flat {
  --material-bg: var(--surface-1);
  --material-shadow: none;
  --material-shadow-inset: none;
  --material-border: 1px solid var(--border-default);
}

[data-material='soft'],
.material-soft {
  --material-bg: var(--surface-1);
  --material-shadow: 0 1px 3px rgb(0 0 0 / 8%), 0 1px 2px rgb(0 0 0 / 6%);
  --material-shadow-inset: inset 0 1px 0 rgb(255 255 255 / 4%);
  --material-border: 1px solid var(--border-subtle);
}

[data-material='metallic'],
.material-metallic {
  --material-bg: var(--surface-1);
  --material-shadow: 0 2px 8px var(--metallic-shadow), 0 0 1px var(--metallic-shadow);
  --material-shadow-inset: inset 0 1px 0 var(--metallic-highlight), inset 0 -1px 0 rgb(0 0 0 / 10%);
  --material-border: 1px solid var(--metallic-border);
}

[data-material='stone'],
.material-stone {
  --material-bg: var(--surface-2);
  --material-shadow: 0 2px 6px var(--stone-shadow);
  --material-shadow-inset:
    inset 1px 1px 2px var(--stone-highlight), inset -1px -1px 2px var(--stone-shadow);
  --material-border: 1px solid var(--stone-border);
}

// ============================================================================
// SURFACE SELECTORS
// ============================================================================

[data-surface='polished'],
.surface-polished {
  --surface-blur: 0px;
  --surface-saturation: 100%;
  --surface-opacity: 1;
  --surface-texture-opacity: 0;
  --surface-overlay: none;
  --surface-sheen: none;
}

[data-surface='frosted'],
.surface-frosted {
  --surface-blur: 24px;
  --surface-saturation: 80%;
  --surface-opacity: 0.7;
  --surface-texture-opacity: 0.06;
}

[data-surface='stained'],
.surface-stained {
  --surface-blur: 28px;
  --surface-saturation: 100%;
  --surface-opacity: 1;
  --material-bg: linear-gradient(
    135deg,
    var(--stained-primary),
    var(--stained-secondary),
    var(--stained-accent)
  );
  --material-border: 2px solid rgb(40 35 30 / 40%);
  --surface-overlay: linear-gradient(
    135deg,
    rgb(212 168 67 / 6%),
    rgb(168 85 247 / 5%),
    rgb(16 185 129 / 4%)
  );
}

[data-surface='metallic'],
.surface-metallic {
  --surface-blur: 0px;
  --surface-saturation: 100%;
  --surface-opacity: 1;
  --material-bg: linear-gradient(
    145deg,
    rgb(255 255 255 / 15%) 0%,
    transparent 40%,
    transparent 60%,
    rgb(0 0 0 / 10%) 100%
  );
  --surface-sheen: linear-gradient(
    145deg,
    rgb(255 255 255 / 12%) 0%,
    transparent 35%,
    transparent 65%,
    rgb(0 0 0 / 8%) 100%
  );
}

// ============================================================================
// ORNAMENT COMPONENT SELECTOR LIST
// ============================================================================

$ornament-components: '.btn', '.card', '.input', '.modal', '.tag', '.badge', '.ornamental';

// ============================================================================
// GLOBAL ORNAMENT STYLES (applied via body class)
// ============================================================================
// When body has an ornament class, all matching components receive decorations.
// Per-element ornament classes are defined in decorative/_ornamental.scss.

body.ornament-baroque {
  #{$ornament-components} {
    position: relative;

    &::before {
      content: '';
      position: absolute;
      inset: 4px;
      border: 1px solid var(--border-accent-gold, rgb(212 168 67 / 25%));
      border-radius: inherit;
      pointer-events: none;
      z-index: 1;
    }
  }

  .card,
  .modal {
    &::after {
      content: '';
      position: absolute;
      top: -8px;
      left: 50%;
      transform: translateX(-50%);
      width: 16px;
      height: 16px;
      border-radius: 50%;
      border: 2px solid var(--accent-gold, #d4a843);
      background: var(--surface-1, #0e1028);
      box-shadow: 0 0 8px var(--neuro-accent-glow, rgb(212 168 67 / 15%));
      z-index: 2;
      pointer-events: none;
    }
  }
}

body.ornament-carved {
  #{$ornament-components} {
    position: relative;

    &::before {
      content: '';
      position: absolute;
      inset: -1px;
      border-radius: inherit;
      border: 1px solid rgb(255 255 255 / 12%);
      border-bottom-color: rgb(0 0 0 / 10%);
      border-right-color: rgb(0 0 0 / 10%);
      pointer-events: none;
      z-index: 1;
    }
  }
}

body.ornament-faceted {
  #{$ornament-components} {
    position: relative;

    &::before {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: inherit;
      background: linear-gradient(
        135deg,
        rgb(255 255 255 / 15%) 0%,
        transparent 30%,
        transparent 70%,
        rgb(0 0 0 / 8%) 100%
      );
      pointer-events: none;
      z-index: 1;
    }
  }
}

body.ornament-gilt {
  #{$ornament-components} {
    position: relative;
    box-shadow:
      var(--material-shadow),
      0 0 0 1px var(--accent-gold, #d4a843),
      0 0 12px var(--neuro-accent-glow, rgb(212 168 67 / 15%));

    &::before {
      content: '';
      position: absolute;
      inset: 2px;
      border: 1px solid var(--border-accent-gold, rgb(212 168 67 / 20%));
      border-radius: inherit;
      pointer-events: none;
      z-index: 1;
    }
  }
}

// .ornament-none: removes ornament from specific elements
.ornament-none {
  &::before,
  &::after {
    display: none !important;
  }
}
