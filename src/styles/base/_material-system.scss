// ---------------------------------------------------------------------------
// Material System
// ---------------------------------------------------------------------------
// Abstract --material-* variables consumed by all components.
// Activated by data attributes on <html> set by initSoltana(), or by
// applying .material-* / .surface-* classes directly to elements.
// ---------------------------------------------------------------------------

// ============================================================================
// DEFAULT VALUES (neumorphic baseline)
// ============================================================================
// Ensures components render correctly even without initSoltana().

:root {
  --material-bg: var(--neuro-bg, #0e1028);
  --material-shadow:
    3px 3px 8px var(--neuro-shadow-dark, rgb(0 0 0 / 65%)),
    -3px -3px 8px var(--neuro-shadow-light, rgb(255 255 255 / 5%));
  --material-shadow-inset:
    inset 2px 2px 5px var(--neuro-shadow-dark, rgb(0 0 0 / 65%)),
    inset -2px -2px 5px var(--neuro-shadow-light, rgb(255 255 255 / 5%));
  --material-blur: 0px;
  --material-saturation: 100%;
  --material-opacity: 1;
  --material-border: var(--border-default, rgb(255 255 255 / 6%));

  --surface-texture-opacity: 0;
  --surface-overlay: none;
  --surface-sheen: none;
}

// ============================================================================
// MATERIAL SELECTORS
// ============================================================================
// Data-attribute selectors activated by initSoltana().
// Class selectors available for per-element overrides.

[data-material='neuro'],
.material-neuro {
  --material-bg: var(--neuro-bg);
  --material-shadow: 3px 3px 8px var(--neuro-shadow-dark), -3px -3px 8px var(--neuro-shadow-light);
  --material-shadow-inset:
    inset 2px 2px 5px var(--neuro-shadow-dark), inset -2px -2px 5px var(--neuro-shadow-light);
  --material-blur: 0px;
  --material-saturation: 100%;
  --material-opacity: 1;
  --material-border: var(--border-default);
}

[data-material='glass'],
.material-glass {
  --material-bg: var(--glass-bg);
  --material-shadow: 0 8px 32px var(--glass-shadow);
  --material-shadow-inset: inset 0 1px 0 var(--glass-inner-glow);
  --material-blur: 16px;
  --material-saturation: 140%;
  --material-opacity: 0.85;
  --material-border: var(--glass-border);
}

[data-material='hybrid'],
.material-hybrid {
  --material-bg: linear-gradient(145deg, var(--glass-gradient-start), var(--glass-gradient-end));
  --material-shadow:
    4px 4px 12px var(--neuro-shadow-dark), -4px -4px 12px var(--neuro-shadow-light),
    0 8px 24px var(--glass-shadow);
  --material-shadow-inset:
    inset 2px 2px 6px var(--neuro-shadow-dark), inset -2px -2px 6px var(--neuro-shadow-light),
    inset 0 1px 0 var(--glass-inner-glow);
  --material-blur: 12px;
  --material-saturation: 120%;
  --material-opacity: 0.9;
  --material-border: var(--glass-border);
}

// ============================================================================
// SURFACE SELECTORS
// ============================================================================

[data-surface='polished'],
.surface-polished {
  --surface-texture-opacity: 0;
  --surface-overlay: none;
  --surface-sheen: none;
}

[data-surface='frosted'],
.surface-frosted {
  --material-blur: 24px;
  --material-saturation: 80%;
  --material-opacity: 0.7;
  --surface-texture-opacity: 0.06;
}

[data-surface='stained'],
.surface-stained {
  --material-bg: linear-gradient(
    135deg,
    var(--stained-primary),
    var(--stained-secondary),
    var(--stained-accent)
  );
  --material-blur: 28px;
  --material-border: 2px solid rgb(40 35 30 / 40%);
  --surface-overlay: linear-gradient(
    135deg,
    rgb(212 168 67 / 6%),
    rgb(168 85 247 / 5%),
    rgb(16 185 129 / 4%)
  );
}

[data-surface='metallic'],
.surface-metallic {
  --material-bg: linear-gradient(
    145deg,
    rgb(255 255 255 / 15%) 0%,
    transparent 40%,
    transparent 60%,
    rgb(0 0 0 / 10%) 100%
  );
  --surface-sheen: linear-gradient(
    145deg,
    rgb(255 255 255 / 12%) 0%,
    transparent 35%,
    transparent 65%,
    rgb(0 0 0 / 8%) 100%
  );
}

// ============================================================================
// ORNAMENT COMPONENT SELECTOR LIST
// ============================================================================

$ornament-components: '.btn', '.card', '.input', '.modal', '.tag', '.badge', '.ornamental';

// ============================================================================
// GLOBAL ORNAMENT STYLES (applied via body class)
// ============================================================================
// When body has an ornament class, all matching components receive decorations.
// Per-element ornament classes are defined in decorative/_ornamental.scss.

body.ornament-baroque {
  #{$ornament-components} {
    position: relative;

    &::before {
      content: '';
      position: absolute;
      inset: 4px;
      border: 1px solid var(--border-accent-gold, rgb(212 168 67 / 25%));
      border-radius: inherit;
      pointer-events: none;
      z-index: 1;
    }
  }

  .card,
  .modal {
    &::after {
      content: '';
      position: absolute;
      top: -8px;
      left: 50%;
      transform: translateX(-50%);
      width: 16px;
      height: 16px;
      border-radius: 50%;
      border: 2px solid var(--accent-gold, #d4a843);
      background: var(--surface-1, #0e1028);
      box-shadow: 0 0 8px var(--neuro-accent-glow, rgb(212 168 67 / 15%));
      z-index: 2;
      pointer-events: none;
    }
  }
}

body.ornament-carved {
  #{$ornament-components} {
    position: relative;

    &::before {
      content: '';
      position: absolute;
      inset: -1px;
      border-radius: inherit;
      border: 1px solid rgb(255 255 255 / 12%);
      border-bottom-color: rgb(0 0 0 / 10%);
      border-right-color: rgb(0 0 0 / 10%);
      pointer-events: none;
      z-index: 1;
    }
  }
}

body.ornament-faceted {
  #{$ornament-components} {
    position: relative;

    &::before {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: inherit;
      background: linear-gradient(
        135deg,
        rgb(255 255 255 / 15%) 0%,
        transparent 30%,
        transparent 70%,
        rgb(0 0 0 / 8%) 100%
      );
      pointer-events: none;
      z-index: 1;
    }
  }
}

body.ornament-gilt {
  #{$ornament-components} {
    position: relative;
    box-shadow:
      var(--material-shadow),
      0 0 0 1px var(--accent-gold, #d4a843),
      0 0 12px var(--neuro-accent-glow, rgb(212 168 67 / 15%));

    &::before {
      content: '';
      position: absolute;
      inset: 2px;
      border: 1px solid var(--border-accent-gold, rgb(212 168 67 / 20%));
      border-radius: inherit;
      pointer-events: none;
      z-index: 1;
    }
  }
}

// .ornament-none: removes ornament from specific elements
.ornament-none {
  &::before,
  &::after {
    display: none !important;
  }
}
