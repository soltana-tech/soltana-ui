// ---------------------------------------------------------------------------
// Context Menu Component
// ---------------------------------------------------------------------------
// Right-click triggered menu, reusing dropdown-menu visual patterns.
// Uses --relief-* and --finish-* variables for tier integration.
// ---------------------------------------------------------------------------

@use '../base/register' as *;
@use '../base/accessibility' as *;
@use '../base/transitions' as *;

.context-menu {
  position: fixed;
  top: var(--context-menu-top, 0);
  left: var(--context-menu-left, 0);
  z-index: var(--z-dropdown);
  min-width: 10rem;
  padding: 0.375rem 0;
  border-radius: var(--radius-xl);
  border: 1px solid var(--border-default);
  box-shadow: var(--relief-shadow-lg);
  @include finish-surface(var(--surface-1));
  opacity: 0;
  pointer-events: none;
  transition: opacity var(--transition-normal) var(--easing-in-out);

  &.active {
    opacity: 1;
    pointer-events: auto;
  }
}

.context-menu-item {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  width: 100%;
  padding: 0.5rem 1rem;
  font-size: var(--text-sm);
  font-family: var(--font-sans);
  color: var(--text-primary);
  background: none;
  border: none;
  cursor: pointer;
  text-align: left;
  white-space: nowrap;
  @include transition-interactive(var(--transition-normal));

  @include hover-state {
    color: var(--accent-primary);
  }

  &:focus-visible {
    @include focus-ring-outline($inset: true);
  }

  &.active {
    color: var(--accent-primary);
    background-color: var(--state-active);
  }

  &:disabled,
  &.disabled {
    color: var(--state-disabled-text);
    pointer-events: none;
  }
}

.context-menu-divider {
  border: none;
  border-top: 1px solid var(--border-subtle);
  margin: 0.25rem 0;
}

.context-menu-header {
  padding: 0.375rem 1rem;
  font-size: var(--text-xs);
  font-weight: var(--font-semibold);
  color: var(--text-muted);
  letter-spacing: var(--tracking-display);
  text-transform: uppercase;
}
